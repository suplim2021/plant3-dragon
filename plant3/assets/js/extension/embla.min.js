!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(n="undefined"!=typeof globalThis?globalThis:n||self).EmblaCarousel=t()}(this,function(){"use strict";function n(n){return"number"==typeof n}function t(n){return"string"==typeof n}function e(n){return"boolean"==typeof n}function r(n){return"[object Object]"===Object.prototype.toString.call(n)}function o(n){return Math.abs(n)}function i(n){return Math.sign(n)}function c(n,t){return o(n-t)}function s(n){return l(n).map(Number)}function u(n){return n[a(n)]}function a(n){return Math.max(0,n.length-1)}function l(n){return Object.keys(n)}function d(n,t){return[n,t].reduce((n,t)=>(l(t).forEach(e=>{const o=n[e],i=t[e],c=r(o)&&r(i);n[e]=c?d(o,i):i}),n),{})}function f(n,t){return void 0!==t.MouseEvent&&n instanceof t.MouseEvent}function p(t,e){function r(n){return e-n}const o={start:function(){return 0},center:function(n){return r(n)/2},end:r};return{measure:function(r){return n(t)?e*Number(t):o[t](r)}}}function m(n,t){function e(t){return t<n}function r(n){return n>t}function i(n){return e(n)||r(n)}const c=o(n-t);return{length:c,max:t,min:n,constrain:function(r){return i(r)?e(r)?n:t:r},reachedAny:i,reachedMax:r,reachedMin:e,removeOffset:function(n){return c?n-c*Math.ceil((n-t)/c):n}}}function g(n,t,e){function r(n){return e?o((u+n)%u):s(n)}function i(){return a}function c(){return g(n,i(),e)}const{constrain:s}=m(0,n),u=n+1;let a=r(t);const l={get:i,set:function(n){return a=r(n),l},add:function(n){return c().set(i()+n)},clone:c};return l}function h(){let n=[];const t={add:function(e,r,o,i={passive:!0}){return e.addEventListener(r,o,i),n.push(()=>e.removeEventListener(r,o,i)),t},clear:function(){n=n.filter(n=>n())}};return t}function v(n,t,r,s,u,a,l,d,p,g,v,x,y,b,S,w,E,D,A){function L(n){const e=l.readPoint(n),r=l.readPoint(n,B),o=c(e,N),i=c(r,R);if(!j&&!W){if(!n.cancelable)return T(n);if(j=o>i,!j)return T(n)}const s=l.pointerMove(n);o>E&&(U=!0),v.useFriction(.3).useDuration(1),p.start(),a.add(t.apply(s)),n.preventDefault()}function T(n){const e=x.byDistance(0,!1).index!==y.get(),r=l.pointerUp(n)*(w?z:q)[W?"mouse":"touch"],s=function(n,t){const e=y.add(-1*i(n)),r=x.byDistance(n,!w).distance;return w||o(n)<F?r:D&&t?.5*r:x.byIndex(e.get(),0).distance}(t.apply(r),e),u=function(n,t){if(0===n||0===t)return 0;if(o(n)<=o(t))return 0;const e=c(o(n),o(t));return o(e/n)}(r,s),a=H-10*u,d=A+u/50;j=!1,V=!1,I.clear(),v.useDuration(a).useFriction(d),g.distance(s,!w),W=!1,b.emit("pointerUp")}function M(n){U&&(n.stopPropagation(),n.preventDefault())}const{cross:B}=n,P=["INPUT","SELECT","TEXTAREA"],O={passive:!1},k=h(),I=h(),F=m(50,225).constrain(S.measure(20)),q={mouse:300,touch:400},z={mouse:500,touch:600},H=w?43:25;let C=!1,N=0,R=0,V=!1,j=!1,U=!1,W=!1;return{init:function(n,t){function o(o){(e(t)||t(n,o))&&function(n){const t=f(n,u);W=t,t&&0!==n.button||function(n){const t=n.nodeName||"";return P.includes(t)}(n.target)||(U=w&&t&&!n.buttons&&C,C=c(a.get(),d.get())>=2,V=!0,l.pointerDown(n),v.useFriction(0).useDuration(0),a.set(d),function(){const n=W?s:r;I.add(n,"touchmove",L,O).add(n,"touchend",T).add(n,"mousemove",L,O).add(n,"mouseup",T)}(),N=l.readPoint(n),R=l.readPoint(n,B),b.emit("pointerDown"))}(o)}if(!t)return;const i=r;k.add(i,"dragstart",n=>n.preventDefault(),O).add(i,"touchmove",()=>{},O).add(i,"touchend",()=>{}).add(i,"touchstart",o).add(i,"mousedown",o).add(i,"touchcancel",T).add(i,"contextmenu",T).add(i,"click",M,!0)},pointerDown:function(){return V},destroy:function(){k.clear(),I.clear()}}}function x(n,t){function e(n){return n.timeStamp}function r(e,r){const o="client"+("x"===(r||n.scroll)?"X":"Y");return(f(e,t)?e:e.touches[0])[o]}let i,c;return{pointerDown:function(n){return i=n,c=n,r(n)},pointerMove:function(n){const t=r(n)-r(c),o=e(n)-e(i)>170;return c=n,o&&(i=n),t},pointerUp:function(n){if(!i||!c)return 0;const t=r(c)-r(i),s=e(n)-e(i),u=e(n)-e(c)>170,a=t/s;return s&&!u&&o(a)>.1?a:0},readPoint:r}}function y(n,t,r,o,i){function c(n){return i.measureSize(n.getBoundingClientRect())}let s,u,a=[],l=!1;return{init:function(i,d){d&&(u=c(n),a=o.map(c),s=new ResizeObserver(s=>{l||(e(d)||d(i,s))&&function(e){for(const s of e){const e=s.target===n,l=o.indexOf(s.target);if((e?u:a[l])!==c(e?n:o[l])){r.requestAnimationFrame(()=>{i.reInit(),t.emit("resize")});break}}}(s)}),[n].concat(o).forEach(n=>s.observe(n)))},destroy:function(){s&&s.disconnect(),l=!0}}}function b(n,t,e,r,i){const c=i.measure(10),s=i.measure(50),u=m(.1,.99);let a=!1;return{constrain:function(i){if(a||!n.reachedAny(e.get())||!n.reachedAny(t.get()))return;const l=n.reachedMin(t.get())?"min":"max",d=o(n[l]-t.get()),f=e.get()-t.get(),p=u.constrain(d/s);e.subtract(f*p),!i&&o(f)<c&&(e.set(n.constrain(e.get())),r.useDuration(25).useBaseFriction())},toggleActive:function(n){a=!n}}}function S(n,t,e,r){const o=m(-t+n,e[0]),i=e.map(o.constrain).map(n=>parseFloat(n.toFixed(3)));return{snapsContained:function(){if(t<=n)return[o.max];if("keepSnaps"===r)return i;const{min:e,max:c}=function(){const n=i[0],t=u(i),e=i.lastIndexOf(n),r=i.indexOf(t)+1;return m(e,r)}();return i.slice(e,c)}()}}function w(n,t,e,r){const o=t.min+.1,i=t.max+.1,{reachedMin:c,reachedMax:s}=m(o,i);return{loop:function(t){if(!function(n){return 1===n?s(e.get()):-1===n&&c(e.get())}(t))return;const o=n*(-1*t);r.forEach(n=>n.add(o))}}}function E(n){const{max:t,length:e}=n;return{get:function(n){return(n-t)/-e}}}function D(n,t,e,r,c){function s(n){return n.concat().sort((n,t)=>o(n)-o(t))[0]}function u(t,r){const o=[t,t+e,t-e];return n?s(r?o.filter(n=>i(n)===r):o):o[0]}const{reachedAny:a,removeOffset:l,constrain:d}=r;return{byDistance:function(e,r){const i=c.get()+e,{index:s,distance:f}=function(e){const r=n?l(e):d(e),i=t.map(n=>n-r).map(n=>u(n,0)).map((n,t)=>({diff:n,index:t})).sort((n,t)=>o(n.diff)-o(t.diff)),{index:c}=i[0];return{index:c,distance:r}}(i),p=!n&&a(i);return!r||p?{index:s,distance:e}:{index:s,distance:e+u(t[s]-f,0)}},byIndex:function(n,e){return{index:n,distance:u(t[n]-c.get(),e)}},shortcut:u}}function A(t){function e(t){return n(t)?t:t.get()}let r=t;return{get:function(){return r},set:function(n){r=e(n)},add:function(n){r+=e(n)},subtract:function(n){r-=e(n)}}}function L(n,t,e){const r="x"===n.scroll?function(n){return`translate3d(${n}px,0px,0px)`}:function(n){return`translate3d(0px,${n}px,0px)`},o=e.style;let i=!1;return{clear:function(){i||(o.transform="",e.getAttribute("style")||e.removeAttribute("style"))},to:function(n){i||(o.transform=r(t.apply(n)))},toggleActive:function(n){i=!n}}}function T(n,t,e,r,o,i,c,u,a){function l(n,t){return n.reduce((n,t)=>n-o[t],t)}function d(n,t){return n.reduce((n,e)=>l(n,t)>0?n.concat([e]):n,[])}function f(e,o){const i="start"===o,s=i?-r:r,l=c.findSlideBounds([s]);return e.map(e=>{const o=i?0:-r,c=i?r:0,s=l.filter(n=>n.index===e)[0][i?"end":"start"],d=A(-1),f=L(n,t,a[e]);return{index:e,location:d,translate:f,target:()=>u.get()>s?o:c}})}const p=s(o),m=s(o).reverse(),g=function(){const n=i[0]-1;return f(d(m,n),"end")}().concat(function(){const n=e-i[0]-1;return f(d(p,n),"start")}());return{canLoop:function(){return g.every(({index:n})=>l(p.filter(t=>t!==n),e)<=.1)},clear:function(){g.forEach(n=>n.translate.clear())},loop:function(){g.forEach(n=>{const{target:t,translate:e,location:r}=n,o=t();o!==r.get()&&(e.to(o),r.set(o))})},loopPoints:g}}function M(n,t){let r,o=!1;return{init:function(i,c){c&&(r=new MutationObserver(n=>{o||(e(c)||c(i,n))&&function(n){for(const e of n)if("childList"===e.type){i.reInit(),t.emit("slidesChanged");break}}(n)}),r.observe(n,{childList:!0}))},destroy:function(){r&&r.disconnect(),o=!0}}}function B(n,t,e,r,o,i,c){function s(t,o){const i=t||l,c=function(n){const t=n||0;return e.map(n=>m(.5,n-.5).constrain(n*t))}(o);return i.reduce((t,o)=>{const i=r.map((t,r)=>({start:t-e[r]+c[r]+o,end:t+n-c[r]+o,index:r}));return t.concat(i)},[])}const{removeOffset:u,constrain:a}=o,l=i?[0,t,-t]:[0],d=s(l,c);return{check:function(n,t){const e=i?u(n):a(n);return(t||d).reduce((n,t)=>{const{index:r,start:o,end:i}=t;return!n.includes(r)&&o<e&&i>e?n.concat([r]):n},[])},findSlideBounds:s}}function P(t,e,r){const o=n(r);return{groupSlides:function(n){return o?function(n,t){return s(n).filter(n=>n%t==0).map(e=>n.slice(e,e+t))}(n,r):function(n){return s(n).reduce((n,r)=>{const o=e.slice(u(n),r+1).reduce((n,t)=>n+t,0);return!r||o>t?n.concat(r):n},[]).map((t,e,r)=>n.slice(t,r[e+1]))}(n)}}}function O(n,t,e,r,c,l,d,f){const{align:O,axis:k,direction:I,startIndex:F,inViewThreshold:q,loop:z,duration:H,dragFree:C,dragThreshold:N,slidesToScroll:R,skipSnaps:V,containScroll:j}=l,U=t.getBoundingClientRect(),W=e.map(n=>n.getBoundingClientRect()),$=function(n){const t="rtl"===n?-1:1;return{apply:function(n){return n*t}}}(I),G=function(n,t){const e="y"===n?"y":"x";return{scroll:e,cross:"y"===n?"x":"y",startEdge:"y"===e?"top":"rtl"===t?"right":"left",endEdge:"y"===e?"bottom":"rtl"===t?"left":"right",measureSize:function(n){const{width:t,height:r}=n;return"x"===e?t:r}}}(k,I),Q=G.measureSize(U),X=function(n){return{measure:function(t){return n*(t/100)}}}(Q),Y=p(O,Q),J=!z&&!!j,K=z||!!j,{slideSizes:Z,slideSizesWithGaps:_}=function(n,t,e,r,i,c){const{measureSize:s,startEdge:l,endEdge:d}=n,f=e[0]&&i,p=function(){if(!f)return 0;const n=e[0];return o(t[l]-n[l])}(),m=function(){if(!f)return 0;const n=c.getComputedStyle(u(r));return parseFloat(n.getPropertyValue(`margin-${d}`))}(),g=e.map(s),h=e.map((n,t,e)=>{const r=!t,o=t===a(e);return r?g[t]+p:o?g[t]+m:e[t+1][l]-n[l]}).map(o);return{slideSizes:g,slideSizesWithGaps:h}}(G,U,W,e,K,c),nn=P(Q,_,R),{snaps:tn,snapsAligned:en}=function(n,t,e,r,i,c,s){const{startEdge:l,endEdge:d}=n,{groupSlides:f}=c,p=f(r).map(n=>u(n)[d]-n[0][l]).map(o).map(t.measure),m=r.map(n=>e[l]-n[l]).map(n=>-o(n)),g=function(){const n=u(m)-u(i);return f(m).map(n=>n[0]).map((t,e,r)=>{const o=!e,i=e===a(r);return s&&o?0:s&&i?n:t+p[e]})}();return{snaps:m,snapsAligned:g}}(G,Y,U,W,_,nn,J),rn=-u(tn)+u(_),{snapsContained:on}=S(Q,rn,en,j),cn=J?on:en,{limit:sn}=function(n,t,e){const r=t[0];return{limit:m(e?r-n:u(t),r)}}(rn,cn,z),un=g(a(cn),F,z),an=un.clone(),ln=s(e),dn={update:()=>(({dragHandler:n,scrollBody:t,scrollBounds:e,scrollLooper:r,slideLooper:o,eventHandler:i,animation:c,options:{loop:s}})=>{const u=n.pointerDown();s||e.constrain(u);const a=t.seek().settled();a&&!u&&(c.stop(),i.emit("settle")),a||i.emit("scroll"),s&&(r.loop(t.direction()),o.loop())})(yn),render:n=>(({scrollBody:n,translate:t,location:e},r)=>{const o=n.velocity(),i=e.get()-o+o*r;t.to(i)})(yn,n),start:()=>f.start(yn),stop:()=>f.stop(yn)},fn=cn[un.get()],pn=A(fn),mn=A(fn),gn=function(n,t,e,r){function c(n){return d=n,p}function s(n){return f=n,p}let u=!0,a=0,l=0,d=e,f=r;const p={direction:function(){return l},seek:function(){const e=t.get()-n.get();return f&&d?(a+=e/d,a*=f,n.add(a)):(a=0,n.set(t)),l=i(a||e),u=o(e)<.001,p},settled:function(){return u&&n.set(t),u},useBaseFriction:function(){return s(r)},useBaseDuration:function(){return c(e)},useFriction:s,useDuration:c,velocity:function(){return a}};return p}(pn,mn,H,.68),hn=D(z,cn,rn,sn,mn),vn=function(n,t,e,r,o,i){function c(r){const c=r.distance,s=r.index!==t.get();c&&(n.start(),o.add(c)),s&&(e.set(t.get()),t.set(r.index),i.emit("select"))}return{distance:function(n,t){c(r.byDistance(n,t))},index:function(n,e){const o=t.clone().set(n);c(r.byIndex(o.get(),e))}}}(dn,un,an,hn,mn,d),xn=B(Q,rn,Z,tn,sn,z,q),yn={ownerDocument:r,ownerWindow:c,eventHandler:d,containerRect:U,slideRects:W,animation:dn,axis:G,direction:$,dragHandler:v(G,$,n,r,c,mn,x(G,c),pn,dn,vn,gn,hn,un,d,X,C,N,V,.68),eventStore:h(),percentOfView:X,index:un,indexPrevious:an,limit:sn,location:pn,options:l,resizeHandler:y(t,d,c,e,G),scrollBody:gn,scrollBounds:b(sn,pn,mn,gn,X),scrollLooper:w(rn,sn,pn,[pn,mn]),scrollProgress:E(sn),scrollSnaps:cn,scrollTarget:hn,scrollTo:vn,slideLooper:T(G,$,Q,rn,_,cn,xn,pn,e),slidesHandler:M(t,d),slidesInView:xn,slideIndexes:ln,slidesToScroll:nn,target:mn,translate:L(G,$,t)};return yn}function k(n){function t(n,t){return d(n,t||{})}const e={mergeOptions:t,optionsAtMedia:function(e){const r=e.breakpoints||{},o=l(r).filter(t=>n.matchMedia(t).matches).map(n=>r[n]).reduce((n,e)=>t(n,e),{});return t(e,o)},optionsMediaQueries:function(t){return t.map(n=>l(n.breakpoints||{})).reduce((n,t)=>n.concat(t),[]).map(n.matchMedia)}};return e}function I(n,e,r){function i(e,r){if(q)return;const u=y.find(n=>n.window===f),a=u||function(n){function t(u){i||(i=u);const a=u-i;for(i=u,c+=a;c>=e;)r.forEach(({animation:n})=>n.update()),c-=e;const l=o(c/e);r.forEach(({animation:n})=>n.render(l)),s&&n.requestAnimationFrame(t)}const e=1e3/60;let r=[],i=null,c=0,s=0;return{start:function(e){r.includes(e)||r.push(e),s||(s=n.requestAnimationFrame(t))},stop:function(t){r=r.filter(n=>n!==t),r.length||(n.cancelAnimationFrame(s),i=null,c=0,s=0)},reset:function(){i=null,c=0},window:n}}(f);if(u||y.push(a),z=b(z,e),H=S(z),C=r||C,function(){const{container:e,slides:r}=H,o=t(e)?n.querySelector(e):e;B=o||n.children[0];const i=t(r)?B.querySelectorAll(r):r;P=[].slice.call(i||B.children)}(),T=O(n,B,P,d,f,H,x,a),w([z,...C.map(({options:n})=>n)]).forEach(n=>g.add(n,"change",c)),H.active){if(T.translate.to(T.location.get()),T.eventHandler.init(N),T.resizeHandler.init(N,H.watchResize),T.slidesHandler.init(N,H.watchSlides),v.add(d,"visibilitychange",()=>{d.hidden&&a.reset()}),H.loop){if(!T.slideLooper.canLoop())return s(),i({loop:!1},r),void(z=b(z,{loop:!0}));T.slideLooper.loop()}B.offsetParent&&P.length&&T.dragHandler.init(N,H.watchDrag),M=m.init(C,N)}}function c(n,t){const e=l();s(),i(b({startIndex:e},n),t),x.emit("reInit")}function s(){T.dragHandler.destroy(),T.animation.stop(),T.eventStore.clear(),T.translate.clear(),T.slideLooper.clear(),T.resizeHandler.destroy(),T.slidesHandler.destroy(),m.destroy(),g.clear(),v.clear()}function u(n){const t=T[n?"target":"location"].get(),e=H.loop?"removeOffset":"constrain";return T.slidesInView.check(T.limit[e](t))}function a(n,t,e){H.active&&!q&&(T.scrollBody.useBaseFriction().useDuration(t?0:H.duration),T.scrollTo.index(n,e||0))}function l(){return T.index.get()}const d=n.ownerDocument,f=d.defaultView,p=k(f),m=function(n){let t=[];return{init:function(e,r){return t=e.filter(({options:t})=>!1!==n.optionsAtMedia(t).active),t.forEach(t=>t.init(r,n)),e.reduce((n,t)=>Object.assign(n,{[t.name]:t}),{})},destroy:function(){t=t.filter(n=>n.destroy())}}}(p),g=h(),v=h(),x=function(){function n(n){return t[n]||[]}const t={};let e;const r={init:function(n){e=n},emit:function(t){return n(t).forEach(n=>n(e,t)),r},off:function(e,o){return t[e]=n(e).filter(n=>n!==o),r},on:function(e,o){return t[e]=n(e).concat([o]),r}};return r}(),{animationRealms:y}=I,{mergeOptions:b,optionsAtMedia:S,optionsMediaQueries:w}=p,{on:E,off:D,emit:A}=x,L=c;let T,M,B,P,q=!1,z=b(F,I.globalOptions),H=b(z),C=[];const N={canScrollNext:function(){return T.index.add(1).get()!==l()},canScrollPrev:function(){return T.index.add(-1).get()!==l()},containerNode:function(){return B},internalEngine:function(){return T},destroy:function(){q||(q=!0,g.clear(),s(),x.emit("destroy"))},off:D,on:E,emit:A,plugins:function(){return M},previousScrollSnap:function(){return T.indexPrevious.get()},reInit:L,rootNode:function(){return n},scrollNext:function(n){a(T.index.add(1).get(),!0===n,-1)},scrollPrev:function(n){a(T.index.add(-1).get(),!0===n,1)},scrollProgress:function(){return T.scrollProgress.get(T.location.get())},scrollSnapList:function(){return T.scrollSnaps.map(T.scrollProgress.get)},scrollTo:a,selectedScrollSnap:l,slideNodes:function(){return P},slidesInView:u,slidesNotInView:function(n){const t=u(n);return T.slideIndexes.filter(n=>!t.includes(n))}};return i(e,r),setTimeout(()=>x.emit("init"),0),N}const F={align:"center",axis:"x",container:null,slides:null,containScroll:null,direction:"ltr",slidesToScroll:1,breakpoints:{},dragFree:!1,dragThreshold:10,inViewThreshold:0,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0};return I.animationRealms=[],I.globalOptions=void 0,I});var generateDots=(n,t)=>{const e=n.querySelector(".s-dots"),r='<span class="dot"></span>';return e.innerHTML=t.scrollSnapList().reduce(n=>n+r,""),[].slice.call(e.querySelectorAll(".dot"))},setupDots=(n,t)=>{n.forEach((n,e)=>{n.addEventListener("click",()=>t.scrollTo(e),!1)})},selectDot=(n,t)=>()=>{const e=t.previousScrollSnap(),r=t.selectedScrollSnap();n[e].classList.remove("active"),n[r].classList.add("active")},setupThumbs=(n,t)=>{n.forEach((n,e)=>{n.addEventListener("click",()=>t.scrollTo(e),!1)})},selectThumb=(n,t)=>()=>{const e=t.previousScrollSnap(),r=t.selectedScrollSnap();n[e].classList.remove("active"),n[r].classList.add("active")},setupArrows=(n,t)=>{n.querySelector(".prev").addEventListener("click",t.scrollPrev,!1),n.querySelector(".next").addEventListener("click",t.scrollNext,!1)},disableArrows=(n,t)=>(prevBtn=n.querySelector(".prev"),nextBtn=n.querySelector(".next"),()=>{t.canScrollPrev()?prevBtn.removeAttribute("disabled"):prevBtn.setAttribute("disabled","disabled"),t.canScrollNext()?nextBtn.removeAttribute("disabled"):nextBtn.setAttribute("disabled","disabled")}),sCarousel=n=>{const t=n.querySelector(".s-viewport"),e=n.dataset.align;e||(e="start");const r=EmblaCarousel(t,{loop:!0,align:e}),o=generateDots(n,r);if(setupDots(o,r),setupArrows(n,r),r.on("select",selectDot(o,r)),r.on("init",selectDot(o,r)),n.querySelector(".s-thumbs")){const t=n.querySelectorAll(".thumb");setupThumbs(t,r),r.on("select",selectThumb(t,r)),r.on("init",selectThumb(t,r))}};document.addEventListener("DOMContentLoaded",function(){var n=document.querySelectorAll(".s-slider");n&&n.forEach(n=>{sCarousel(n)})},!1);